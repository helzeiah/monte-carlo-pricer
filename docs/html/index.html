<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Options Pricing Library: My Options Pricing Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Options Pricing Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">My Options Pricing Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a> <img src="https://github.com/helzeiah/monte-carlo-pricer/actions/workflows/ci.yml/badge.svg" alt="CI" style="pointer-events: none;" class="inline"/> </p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md0"></a>
European Options Pricing Library (C++)</h1>
<p>A small C++20 library that prices European options via Black-Scholes (closed form) and Monte Carlo (Geometric Brownian Motion). This Library supports Greeks calculation, implied volatility estimation, and provides statistical outputs like standard error, confidence intervals, and VaR. It has clean abstractions with the Pricer interface and is unit-tested with GoogleTest.</p>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Features</h2>
<ul>
<li>Pricing Engines<ul>
<li>Black-Scholes analytic pricer (supports dividends)</li>
<li>Monte Carlo pricer (GBM) with cached normals, CI, SE, VaR, incremental runs.</li>
</ul>
</li>
<li>Greeks<ul>
<li>BS: analytic Greeks</li>
<li>MC: finite-difference Greeks with common random numbers</li>
</ul>
</li>
<li>Implied volatility via hybrid Newton/Bisection</li>
<li>Robust input validation</li>
<li>Caching of computed prices + timing info</li>
<li>Extensive GoogleTest suit (deterministic and stochastic assertions)</li>
<li>Clean, documented headers suitable for reuse</li>
</ul>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Project Structure</h2>
<div class="fragment"><div class="line"> -carlo-pricer/</div>
<div class="line">├── CMakeLists.txt</div>
<div class="line">├── include/</div>
<div class="line">│   ├── BlackScholes.h</div>
<div class="line">│   ├── Greeks.h</div>
<div class="line">│   ├── ImpliedVol.h</div>
<div class="line">│   ├── MathUtils.h</div>
<div class="line">│   ├── MonteCarlo.h</div>
<div class="line">│   ├── Option.h</div>
<div class="line">│   └── Pricer.h</div>
<div class="line">├── src/</div>
<div class="line">│   ├── BlackScholes.cpp</div>
<div class="line">│   ├── ImpliedVol.cpp</div>
<div class="line">│   ├── MonteCarlo.cpp</div>
<div class="line">│   ├── Option.cpp</div>
<div class="line">│   └── main.cpp               # demo</div>
<div class="line">├── tests/</div>
<div class="line">│   ├── BlackScholesTest.cpp</div>
<div class="line">│   ├── CachingAndStateTest.cpp</div>
<div class="line">│   ├── ImpliedVolTest.cpp</div>
<div class="line">│   ├── MathUtilsTest.cpp</div>
<div class="line">│   ├── MonteCarloTest.cpp</div>
<div class="line">│   ├── OptionTest.cpp</div>
<div class="line">│   ├── ParamGridTest.cpp</div>
<div class="line">│   ├── PricerInterfaceTest.cpp</div>
<div class="line">│   ├── PutCallParityTest.cpp</div>
<div class="line">│   └── TestUtils.h</div>
<div class="line">├── docs/</div>
<div class="line">│   └── Doxyfile               # Doxygen configuration</div>
<div class="line">├── .github/</div>
<div class="line">│   └── workflows/</div>
<div class="line">│       └── ci.yml             # GitHub Actions (build + tests + docs)</div>
<div class="line">├── LICENSE</div>
<div class="line">└── README.md</div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Getting Started</h2>
<div class="fragment"><div class="line"># clone</div>
<div class="line">git clone https://github.com/helzeiah/monte-carlo-pricer.git</div>
<div class="line">cd monte-carlo-pricer</div>
<div class="line"> </div>
<div class="line"># configure (Debug by default)</div>
<div class="line">cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug</div>
<div class="line"> </div>
<div class="line"># build library, demo, and tests</div>
<div class="line">cmake --build build -j</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
Run the demo program</h3>
<div class="fragment"><div class="line">./build/proj_monte_carlo_pricer</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
Run the tests</h3>
<div class="fragment"><div class="line">ctest --test-dir build --output-on-failure</div>
<div class="line"># or directly</div>
<div class="line">./build/unit_tests</div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Quick Usage Example</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_option_8h.html">Option.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_black_scholes_8h.html">BlackScholes.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_monte_carlo_8h.html">MonteCarlo.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    <span class="keyword">auto</span> opt = Option::createCall(100, 100, 1.0, 0.05, 0.20, 0.0);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_black_scholes.html">BlackScholes</a> bs(opt);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;BS Price: &quot;</span> &lt;&lt; bs.calculatePrice() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;BS Greeks: &quot;</span> &lt;&lt; bs.calculateGreeks() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_monte_carlo.html">MonteCarlo</a> mc(opt, 200000, 42u);</div>
<div class="line">    <span class="keywordtype">double</span> mcPrice = mc.calculatePrice();</div>
<div class="line">    <span class="keyword">auto</span> [lo, hi] = mc.getConfidenceInterval(0.95);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;MC Price: &quot;</span> &lt;&lt; mcPrice &lt;&lt; <span class="stringliteral">&quot; (95% CI: [&quot;</span> &lt;&lt; lo &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; hi &lt;&lt; <span class="stringliteral">&quot;])\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="a_black_scholes_8h_html"><div class="ttname"><a href="_black_scholes_8h.html">BlackScholes.h</a></div></div>
<div class="ttc" id="a_monte_carlo_8h_html"><div class="ttname"><a href="_monte_carlo_8h.html">MonteCarlo.h</a></div></div>
<div class="ttc" id="a_option_8h_html"><div class="ttname"><a href="_option_8h.html">Option.h</a></div></div>
<div class="ttc" id="aclass_black_scholes_html"><div class="ttname"><a href="class_black_scholes.html">BlackScholes</a></div><div class="ttdoc">Analytic Black-Scholes pricer for European options.</div><div class="ttdef"><b>Definition</b> BlackScholes.h:11</div></div>
<div class="ttc" id="aclass_monte_carlo_html"><div class="ttname"><a href="class_monte_carlo.html">MonteCarlo</a></div><div class="ttdoc">Monte Carlo Option pricer using geometric Brownian motion.</div><div class="ttdef"><b>Definition</b> MonteCarlo.h:17</div></div>
<div class="ttc" id="amain_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> main.cpp:10</div></div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
API Snapshot</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
<span class="tt">Option</span></h3>
<p>Represents a European option with parameters <em>(S, K, T, r, σ, q)</em>. Factory methods <span class="tt">createCall</span>, <span class="tt">createPut</span> ensure correctness. Can <span class="tt">calculatePayoff</span> given a final price.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
<span class="tt">Pricer</span> (abstract)</h3>
<p>Base interface for pricing engines. Exposes <span class="tt">calculatePrice()</span>, <span class="tt">calculateGreeks()</span>, plus optional stats methods.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
<span class="tt">BlackScholes</span></h3>
<p>Closed-form pricer + analytic Greeks. Falls back gracefully for <span class="tt">T≈0</span> or <span class="tt">σ≈0</span>.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
<span class="tt">MonteCarlo</span></h3>
<p>GBM path simulator using one-step terminal price. Stores normals &amp; payoffs for reuse. Supports:</p>
<ul>
<li><span class="tt">getStandardError()</span></li>
<li><span class="tt">getConfidenceInterval(alpha)</span></li>
<li><span class="tt">calculateVaR(alpha)</span></li>
<li><span class="tt">runMoreSimulations(n)</span></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
<span class="tt">impliedVolBS()</span></h3>
<p>Root-finds σ to match a target price. Starts with Brenner–Subrahmanyam ATM guess, then Newton + bisection fallback.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
<span class="tt">math::norm_pdf/norm_cdf</span></h3>
<p>Small, constexpr-friendly helpers for standard normal.</p>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
Testing &amp; Validation</h2>
<ul>
<li><b>X</b> unit tests across:<ul>
<li>BS prices &amp; Greeks vs reference values</li>
<li>MC vs BS with statistical tolerances (3×SE logic &amp; deterministic fallback)</li>
<li>Put-call parity checks (analytic &amp; MC)</li>
<li>Input validation / exception throwing</li>
<li>Caching/time measurements</li>
</ul>
</li>
<li>Deterministic seeds ensure reproducibility; heavy tests use higher path counts.</li>
</ul>
<p>To add a test, drop a <span class="tt">*.cpp</span> file into <span class="tt">tests/</span>—CMake auto-discovers it.</p>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
Performance Notes</h2>
<ul>
<li>Pre-computed drift &amp; σ√T per constructor</li>
<li>Stores generated normals for Greek bumps (common random numbers)</li>
<li><span class="tt">runMoreSimulations()</span> adds paths without redoing old work</li>
</ul>
<p><b>Ideas to speed up</b>:</p>
<ul>
<li>Antithetic variates or control variates (use BS as control)</li>
<li>Parallel loops (OpenMP, TBB)</li>
<li>SIMD random generation (xoshiro / PCG + vectorized exp)</li>
</ul>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
Roadmap / Future Work</h2>
<ul>
<li>Add Binomial trees for American-style options</li>
<li>Implement Control Variates / Antithetic variates in MC</li>
<li>Path-dependent payoffs (Asian Barrier)</li>
</ul>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md26"></a>
License</h2>
<p>This project is licensed under the <a href="./LICENSE">MIT License</a> © 2025 Helzeiah Oliveira</p>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md28"></a>
Acknowledgements</h2>
<ul>
<li>GoogleTest - unit-testing framework (shoutout to the GoogleTest team)</li>
<li>Black &amp; Scholes (1973) and Hull, Options, Futures, and Other Derivatives - formulas used for reference values.</li>
</ul>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md30"></a>
Contact</h2>
<p>Helzeiah Oliveira - <a href="#" onclick="location.href='mai'+'lto:'+'hel'+'ze'+'iah'+'o@'+'gma'+'il'+'.co'+'m'; return false;">helze<span class="obfuscator">.nosp@m.</span>iaho<span class="obfuscator">.nosp@m.</span>@gmai<span class="obfuscator">.nosp@m.</span>l.co<span class="obfuscator">.nosp@m.</span>m</a></p>
<p><em>Price that option for me 5 :)</em> </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
